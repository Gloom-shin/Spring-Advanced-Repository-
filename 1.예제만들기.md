# 스프링의 강의 리뷰📽
> LoadMap Part : 스프링 핵심원리 고급편   
> Section : 1.예제만들기  
> CreateDate : 2022.11.11  
> UpdateDate :


### 목차

<br></br>
### IntelliJ 단축키
<br></br>
<br></br>


# 1. 예제 만들기 - 로그 추적기 
> 학습을 위해 상품을 주문하는 프로세스로 가정하고, Controller - Service - Repository 흐름을 만들어 볼 것이다.
 - [app MVC Controller 예제 코드](code/advanced/app/v0/OrderControllerV0.java)
 - [app MVC Service 예제 코드](code/advanced/app/v0/OrderServiceV0.java)
 - [app MVC Repository 예제 코드](code/advanced/app/v0/OrderRepositoryV0.java)

## 로그 추적기 요구사항 분석 
 - 이제 실제 프로젝트에서 로그를 미리 남겨두는 로그 추적기를 만들어 보자. 요구 사항은 아래와 같다.

### 요구사항
 - 모든 PUBLIC 메서드의 호출과 응답 정보를 로그로 출력
 - 애플리케이션의 흐름을 변경하면 안됨
   - 로그를 남긴다고 해서 비즈니스 로직의 동작에 영향을 주면 안됨
 - 메서드 호출에 걸린 시간 (ms단위) 
 - 정상 흐름과 예외 흐름 구분
   - 예외 발생시 예외 정보가 남아야함
 - 메서드 호출의 깊이 표현
 - HTTP 요청을 구분
   - HTTP 요청 단위로 특정 ID를 남겨서 어떤 HTTP 요청에서 시작된 것인지 명확하게 구분이 가능해야 함
   - 트랜잭션 ID (DB 트랜잭션X), 여기서는 하나의 HTTP 요청이 시작해서 끝날 때 까지를 하나의 트랜잭션이라 함
### 예시
 - 정상요청
```shell
[796bccd9] OrderController.request()
[796bccd9] |-->OrderService.orderItem()
[796bccd9] | |-->OrderRepository.save()
[796bccd9] | |<--OrderRepository.save() time=1004ms
[796bccd9] |<--OrderService.orderItem() time=1014ms
[796bccd9] OrderController.request() time=1016ms
```
- 예외 발생
```shell
[b7119f27] OrderController.request()
[b7119f27] |-->OrderService.orderItem()
[b7119f27] | |-->OrderRepository.save()
[b7119f27] | |<X-OrderRepository.save() time=0ms 
ex=java.lang.IllegalStateException: 예외 발생!
[b7119f27] |<X-OrderService.orderItem() time=10ms 
ex=java.lang.IllegalStateException: 예외 발생!
[b7119f27] OrderController.request() time=11ms 
ex=java.lang.IllegalStateException: 예외 발생!
```
> 모니터 툴을 도입하면 많은 부분이 해결되지만, 학습목적으로 구현해보자

<br></br>
<br></br>
# 프로토타입 개발 V1
 - 먼저, 

<br></br>
<br></br>

<a name=""></a>
<p align="center"><img src="" width="80%"></p>

## 느낀점 😌

### 참고 링크